<header>
</header>
<html style="background-color: #c0c0d0">
<head>
    <style>
        .tab_button {
            border: 0 none;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }

        #glyphmap {
            padding: 10px;
        }

            #glyphmap th:not(:first-child) {
                min-width: 150px;
            }

            /* header */
            #glyphmap th > div {
                display: grid;
                grid-template-columns: 1fr 1fr;
                grid-template-rows: 2fr 1fr;
                align-items: center;
                height: 100%;
                vertical-align: middle;
            }

            /* Normal cell */
            #glyphmap td:not(:first-child):not(empty) > div {
                display: grid;
                grid-template-columns: 1fr 1fr;
                grid-template-rows: 2fr 2fr 1fr;
                align-items: center;
                height: 100%;
                vertical-align: middle;
            }

            /* left (header type) cell */
            #glyphmap td:first-child > div {
                display: grid;
                grid-template-columns: auto;
                grid-template-rows: 2fr 2fr 1fr;
                align-items: center;
                height: 100%;
                vertical-align: middle;
            }

            /* comment */
            #glyphmap td:has(div>div:only-child>span:only-child) {
                vertical-align: top;
            }

            /* inner subcell */
            #glyphmap th > div > div,
            #glyphmap td > div > div {
                margin: auto;
            }

        td {
            border: solid #404040 2px;
            text-align: center;
            max-width: 150px;
        }

        #glyphmap td > div > div:nth-child(2) {
            max-width: min-content;
        }

        #glyphmap td div span {
            white-space: pre-wrap;
            overflow-wrap: break-word;
            width: 100%;
        }

        #glyphmap td > div > div:has(>span:only-child) {
            align-self: start;
            max-width: 150px;
            text-align: left;
        }

        #glyphmap td,
        #glyphmap th {
            padding: 4px;
        }

        #count_body > tr > td:nth-child(odd),
        #count_body2 > tr > td:nth-child(odd),
        #glyphmap thead > tr > th:not(:first-child),
        #glyphmap tbody > tr:nth-child(odd) > td:first-child,
        #glyphmap tbody > tr:nth-child(even) > td:first-child {
            border: solid #202020 4px;
            background-color: #C0C0C0;
        }

        #glyphmap tbody {
        }

            #glyphmap tbody > tr > td:last-child {
                border-right: solid #202020 4px;
                padding-right: 8px;
            }

            #glyphmap tbody > tr > td:nth-child(2) {
                padding-left: 8px;
            }

            #glyphmap tbody > tr:last-child > td {
                border-bottom: solid #202020 4px;
            }

        tbody > tr:nth-child(odd) > td {
            background-color: #E8E8E8;
        }

        tbody > tr:nth-child(even) > td {
            background-color: #D0D0D0;
        }

        .glyph {
            display: flex;
            flex-direction: row;
        }

            .glyph > div {
                border: none !important;
            }

        #glyph {
            min-height: 50px;
            margin-left: 10px;
        }

        #math,
        #lit {
            min-height: 3ex;
            margin: 20px;
        }

        #glyph > div {
            padding: 4px !important;
        }

        #count,
        #count2 {
            margin-top: 25px;
            margin-bottom: 25px;
        }

        body > div {
            display: flex;
            flex-direction: column;
        }

        table {
            border-collapse: collapse;
        }

        th {
            font-weight: normal;
        }
    </style>
</head>
<body>
    <script>
        //////////////////////// Globals

        const row_sounds = [
            ['N', 'Not', true],
            ['B', 'Boy', true],
            ['Tr', 'Ton', false],
            ['J', 'Jar', true],
            ['H', 'Hi', false],
            ['V', 'Vat', true],
            ['Sh', 'Shop', false],
            ['G', 'Gun', true],
            ['Ch', 'Chat', false],
            ['Z', 'Zip', true],
            ['Kl', 'Kluge', false],
            ['D', 'Day', true],
            ['Fr', 'Frog', false],
            ['M', 'Man', true],
            ['Pl', 'Plot', false],
            ['Th', 'The', true],
        ];

        const col_sounds = [
            ['ie', 'tIE'],
            ['oo', 'bOOt'],
            ['ee', 'fEEt'],
            ['oy', 'plOY'],
            ['ay', 'stAY'],
            ['oe', 'fOE'],
            ['eh', 'mEH'],
            ['ah', 'blAH'],
            ['ee', 'fEEt'],
        ];

        const punct = ['Punctuation', "STOP '.'", "Start Paren '('", "Start Quote '\"'", "Question '?'", "Excitement '!'", "End Paren ')'", "Quote '\"'", "Elipses '...'", 'Sarcasm', 'Rhetoric'];
        const punct_txt = 'Question/Excitement/Sarcasm/Rhetorical goes at the front';

        const strct = ['Structure', 'Verb', 'Subject', 'Object', 'Adjective', 'Adverb', 'Interjection', 'Conjunction', 'Question'];
        const strct_txt = '[Punctuation: Question/Excitement/Sarcastic/Rhetorical] <BR><BR>'
            + 'Interjection <BR><BR>'
            + 'Verb(Adverb) <BR><BR>'
            + 'Subject(Subject - Adjective)...<BR><BR>'
            + '(Conjunction Subject Subject - Adjective)... <BR><BR>'
            + 'Object(Object - Adjective)...<BR><BR>'
            + '(Conjunction Object Object - Adjective)...<BR><BR>'
            + '[Punctuation: STOP/Elipses/Repeat of punctuation at start for emphasis]';

        const cat = ['Category', 'Plant', 'Animal', 'Color', 'Environment', 'Weather', 'Body of Water', 'Elevation', 'Temerature', 'Humidity', 'Magic Element'];
        const cat_txt = '';

        const pron = ['Pronoun', 'Ordinal Tag', 'Self', 'You', 'Other', 'Possessive', 'Reflexive', 'Plural', 'Unknown', 'Neuter', 'Feminine', 'Masculine',];
        const pron_txt = 'The "Ordinal Tag" can be associated with any noun: Pronoun, Subject, or Object by prepending it, followed by a number (usually 1,2,3). '
            + 'Afterwards the Ordinal Tag and the number can replace the noun until the number is associated with another noun.<BR><BR>'
            + 'Singular is the default.<BR>Pronouns are created by combining modifiers in the order presented. '
            + 'For "We" where it is a masculine person, with other males and one female, would be: "SelfMaleOtherPluralMaleFemale". <BR><BR>'
            + 'Note that: "Self/Other/Possessive/Reflexive" are only included once.Gender is one of: Unknown, Neuter, Feminine, Masculine. '
            + 'Unkown is the default gender but may need to be explicitely included if it is needed to combine with other genders.<BR><BR>'
            + 'Other is only required after Self, by itself Other is the same as OtherPluralMalePluralFemale, '
            + 'and OtherPlural means more than one but genders are uncertain';

        const number_col = 2;
        const number = ['Number', '0',
            '1', '2', '3', '4', '5',
            '6', '12', '18', '24', '30',
            '*36', '*1,296', '*46,656', '*1,679,616', '*60,466,176',
        ];

        const number_digits = number.length - 2;
        const zero_lit = row_sounds[0][0] + col_sounds[number_col][0];
        const zero_rec = [0, 0];
        const zero_seq = [zero_rec];
        const inf_seq = [zero_rec, zero_rec];
        const n_inf_seq = [zero_rec, zero_rec, zero_rec];

        const number_txt = 'Numbers are formed by adding the included numbers, high to low. Note that 10 is 6+4 and 100 is 36*2+24+4<BR><BR>'
            + 'Numbers ' + row_sounds[11][0] + col_sounds[number_col][0] + ' (36) and above are marked with a * to designate they are used as multipliers '
            + '(they must have a ' + row_sounds[1][0] + col_sounds[number_col][0] + '(1) after to represent their value) <BR><BR>'
            + 'This means that the highest possible number is 2,176,782,335 -- Numbers above this are limitless<BR><BR>'
            + zero_lit + ' means "Not". By itself, it means 0. Before a number it means negative<BR><BR>'
            + zero_lit + zero_lit + ' means limitless (above 2,176,782,335)<BR><BR>'
            + zero_lit + zero_lit + zero_lit + ' means below -2,176,782,335)'

        const spaces = ' &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp';

        const skip = [[], spaces];

        const ctext = [
            [punct, punct_txt],
            [strct, strct_txt],
            [number, number_txt],
            [cat, cat_txt],
            [pron, pron_txt],
            skip,
            skip,
            skip,
        ];

        // [category, 1/0 creation/destruction, description, group, word1, word2, ...]
        const mtext = [
            ['healer', 1, 'repairs the living', 'lifecycle',
                'cure', 'heal', 'repair', 'youthen', 'clense', 'knit', 'regrow', ''],
            ['necromancer', 0, 'controls the dead', 'lifecycle',
                'speak', 'raise', 'age', 'explode', 'see', 'sense', 'hear', ''],
            ['porter', 1, 'move from place to place', 'space',
                'drag', 'carry', 'flip', 'tumble', 'jump', 'fly', 'swim', 'climb'],
            ['jailor', 0, 'keeps in place', 'space',
                'trap', '', 'block', 'brace', 'surround', 'entrench', 'grab', 'fortify'],
            ['farmer', 1, 'adds to the soil', 'soil',
                'till', 'plow', 'harvest', '', 'sow', 'reap', 'gather', 'plant'],
            ['miner', 0, 'removes from the soil', 'soil',
                'dig', 'extract', 'appraise', '', '', '', '', ''],
            ['smith', 1, 'creates using tools', 'tools',
                'bend', 'straigten', 'wrap', 'seal', 'forge', 'shape', 'strengthen', 'color'],
            ['torturer', 0, 'destroys using tools', 'tools',
                'flay', 'peel', 'pinch', 'expose', 'eviscerate', 'pierce', '', ''],
            ['fae walker', 1, 'works with forces of creation', 'creature',
                'avatar', 'dance', 'sing', 'embue', '', '', '', ''],
            ['summoner', 0, 'controls forces of destruction', 'creature',
                'summon', 'banish', 'protect', 'command', '', '', '', ''], // volcano fire sprites/elementals - desert djinn - water sirens
            ['cook', 1, 'nourishes the living', 'time',
                'boil', 'bake', 'fry', 'salt', 'brown', 'slice', 'dice', 'peel'],
            ['decay', 0, 'destroys the living', 'time',
                'rot', 'spoil', 'infect', 'infest', '', '', '', ''],
            ['herder', 1, 'managing herds', 'manage',
                'herd', 'count', 'cull', '', '', '', '', ''],
            ['soldier', 0, 'managing war', 'manage',
                'march', 'attack', 'guard', 'parry', 'rally', 'flank', 'retreat', 'turtle'],
            ['potionist', 1, 'makes benefitial potions', 'elixer',
                'grow', 'shrink', '', '', '', '', '', ''],
            ['assassin', 0, 'poison and stealth', 'elixer',
                'poison', 'kill', 'sneak', 'backstab', 'hide', '', '', ''],
        ];

        const inf_val = getnum(number_digits) * 36;
        const n_inf_val = -1 * inf_val;

        const msep_after_pos = ' + ';
        const msep_after_neg = ' - ';
        const lsep_after = '';

        const IMG_W = 40;
        const IMG_H = 40;

        const PAD_SZ = (IMG_W + IMG_H) / 10;

        const SB = [[100, 60], [100, 90], [100, 80], [60, 70], [40, 50], [100, 30], [60, 20], [80, 8]];

        // Globals set after document.ready()

        var input = null;
        var calc_glyph = null;
        var calc_math = null;
        var calc_lit = null;
        var Xcore = null;
        var Xr8 = null;
        var Xr4 = null;
        var Xr2 = null;
        var Xr1 = null;
        var Xc4 = null;
        var Xc2 = null;
        var Xc1 = null;

        //////////////////////////////// Functions

        function get_ctext(row, col, is_data = true) {
            if (col >= ctext.length) {
                return spaces;
            }
            if (is_data) {
                var number_col = ctext[col][0];
                if (row >= number_col.length) {
                    return spaces;
                }
                return number_col[row]
            }
            return ctext[col][1];
        }

        function get_mtext(row, col, is_data = true) {
            if (col >= mtext.length) {
                return spaces;
            }
            if (is_data) {
                if (col == 0) {
                    return mtext[row][0];
                }
                var number_row = mtext[row];
                col += 3;
                if (col >= number_col.length) {
                    return spaces;
                }
                var ret = number_row[col];
                if (ret == '') {
                    return spaces;
                }
                return ret;
            }
            return mtext[row][2];
        }

        function num_sound(row) {
            var ret = row_sounds[row][0] + col_sounds[number_col][0];
            return ret;
        }

        function create_color(row, col) {
            var H = 0;
            var S = 0;
            var B = 0;
            var adj = 0;
            if (row == 0) { // Greyscale
                B = (7 - col) * 100 / 7;
            } else {
                if (row > 6) {
                    adj = 15;
                }
                H = adj + ((row - 1) * 360 / 18);
                S = SB[col][0];
                B = SB[col][1];
            }
            return `hsl(${H} ${S}% ${B}%)`;
        }

        function color_circle(row, col) {
            var circle = document.createElement('div');
            circle.style.borderRadius = '50% 5% 50%'; // elliptical
            circle.style.backgroundColor = create_color(row, col);
            circle.style.border = '5px ridge grey';
            force_size(circle, IMG_H, IMG_W);
            circle.style.minHeight = IMG_H + 'px';
            circle.style.minWidth = IMG_W + 'px';
            circle.style.maxHeight = IMG_H + 'px';
            circle.style.maxWidth = IMG_W + 'px';
            circle.margin = 'auto';
            return circle;
        }


        function mk_layer(nm) {
            var img = mk_img(nm);
            img.style.position = 'absolute';
            img.style.left = 0;
            img.style.top = 0;
            img.style.width = '100%';
            img.style.height = '100%';

            //   img.style.width = IMG_W + 'px';
            //   img.style.height = IMG_H + 'px';
            return img;
        }

        function force_size(node, img_h, img_w) {
            node.style.minHeight = img_h + 'px';
            node.style.minWidth = img_w + 'px';
            node.style.maxHeight = img_h + 'px';
            node.style.maxWidth = img_w + 'px';
        }

        function mk_overlay(hdr, r8, r4, r2, r1, c4, c2, c1, padding = true, img_h = IMG_H, img_w = IMG_W, pad_sz = PAD_SZ) {
            var img = [];
            if (!hdr) {
                img.push(Xcore.cloneNode());
            }
            if (r8) {
                img.push(Xr8.cloneNode());
            }
            if (r4) {
                img.push(Xr4.cloneNode());
            }
            if (r2) {
                img.push(Xr2.cloneNode());
            }
            if (r1) {
                img.push(Xr1.cloneNode());
            }
            if (c4) {
                img.push(Xc4.cloneNode());
            }
            if (c2) {
                img.push(Xc2.cloneNode());
            }
            if (c1) {
                img.push(Xc1.cloneNode());
            }
            inner_div = mk_div(img);
            force_size(inner_div, img_h, img_w);

            mid_div = mk_div([inner_div]);
            mid_div.style.position = 'relative';
            force_size(mid_div, img_h, img_w);

            outer_div = mk_div([mid_div]);
            force_size(outer_div, img_h, img_w);

            if (padding) {
                outer_div.style.padding = pad_sz + 'px';
            }
            outer_div.style.border = '1px solid #808080';

            return outer_div;
        }

        document.addEventListener('DOMContentLoaded', function () {
            input = document.getElementById('number');
            calc_glyph = document.getElementById('glyph');
            calc_math = document.getElementById('math');
            calc_lit = document.getElementById('lit');
            Xcore = mk_layer('ZBase.png');
            Xr8 = mk_layer('ZC8.png');
            Xr4 = mk_layer('ZC4.png');
            Xr2 = mk_layer('ZC2.png');
            Xr1 = mk_layer('ZC1.png');
            Xc4 = mk_layer('ZV4.png');
            Xc2 = mk_layer('ZV2.png');
            Xc1 = mk_layer('ZV1.png');

            numtxt = document.getElementById('number_txt');
            numtxt.innerHTML = number_txt;
            numtxt.style.border = '2px solid black';
            numtxt.style.marginBottom = '25px';

            protxt = document.getElementById('pron_txt');
            protxt.innerHTML = pron_txt;
            protxt.style.border = '2px solid black';
            protxt.style.marginBottom = '25px';

            var prepositions = ['Preposition', 'over (under)', 'in (out)', 'inside (outside)', 'front (back)', 'left (right)', 'up (down)'];
            var questions = ['Question', 'who', 'where', 'when', 'how', 'why	is true?', 'is known?'];
            var conj = ['Conjunction', 'and', 'or', 'not (but)', 'because', 'then', 'iff'];
            var interjection = ['Interjection', 'Happy', 'Suprise', 'Pain', 'Frustration', 'Sad', 'Love', 'Hate'];
            {
                var cbody = document.getElementById("cbody");
                var chead = document.getElementById("chead");
                var blank = wrap('');
                var bool = [false, true];
                var all = [];
                var row = 0;
                var header = false;
                var hdr_images = [blank];
                var ftr_images = [wrap('Comments:')];
                bool.forEach(r8 => {
                    bool.forEach(r4 => {
                        bool.forEach(r2 => {
                            bool.forEach(r1 => {
                                var col = 0;
                                var images = [
                                    mk_div([
                                        mk_overlay(true, r8, r4, r2, r1, false, false, false),
                                        mk_div([
                                            bold(row_sounds[row][0]),
                                            wrap(' '),
                                            italic(row_sounds[row][1]),                                          
                                        ]),
                                        mk_div([bold(get_mtext(row, 0))]),
                                    ])
                                ];
                                bool.forEach(c4 => {
                                    bool.forEach(c2 => {
                                        bool.forEach(c1 => {
                                            if (!header) {
                                                hdr_images.push(mk_div([
                                                    mk_overlay(true, false, false, false, false, c4, c2, c1),
                                                    bold(get_ctext(0, col)),
                                                    bold(col_sounds[col][0]),
                                                    italic(col_sounds[col][1]),
                                                ]));
                                                ftr_images.push(mk_div([ // double div to control overflow
                                                    mk_div([
                                                        wrap(get_ctext(0, col, false)),
                                                    ]),
                                                ]));
                                            }
                                            images.push(mk_div([
                                                mk_overlay(false, r8, r4, r2, r1, c4, c2, c1),
                                                color_circle(row, col),
                                                italic(row_sounds[row][0] + col_sounds[col][0]),
                                                bold(get_ctext(row + 1, col) + spaces),
                                                mk_div([bold(get_mtext(row, col + 1))]),
                                            ]));
                                            col++;
                                        }); // c1
                                    }); // c2
                                }); // c4
                                if (!header) {
                                    header = true;
                                    chead.appendChild(mk_row('th', hdr_images));
                                }
                                cbody.appendChild(mk_row('td', images));
                                row++;
                            }); // r1
                        }); // r2
                    }); // r4
                }); // r8
                cbody.appendChild(mk_row('td', ftr_images));
            }
            var counter = document.getElementById('count_body');
            var counter2 = document.getElementById('count_body2');

            var valc = 0;
            var idiv = 2.5;
            var pdiv = 4;
            var maxc = 36;
            for (rowc = 0; rowc < 79; ++rowc) {
                var count_images = [];
                for (var cnt = 1; cnt < maxc; ++cnt) {
                    var count_glyph = document.createElement('div');
                    count_glyph.classList.add('glyph');
                    valc++;
                    var tooltip = valc.toString();
                    tooltip += ' ' + do_calc(valc, count_glyph, null, null, IMG_H / idiv, IMG_W / idiv, PAD_SZ / pdiv);
                    count_glyph.title = tooltip;
                    count_images.push(count_glyph);
                }
                counter.appendChild(mk_row('td', count_images));
                counter = counter2;
                maxc = 18;
                idiv = 4;
                pdiv = 7;
            }
        });

        function mk_img(img) {
            var elem = document.createElement("img");
            elem.src = img;
            return elem;
        }

        function wrap(text) {
            var span = document.createElement("span");
            span.innerHTML = text;
            return span;
        }

        function br() {
            return wrap('<br>');
        }

        function attr(x, text) {
            return wrap('<' + x + '>' + text + '</' + x + '>');
        }

        function italic(text) {
            return attr('i', text);
        }

        function bold(text) {
            return attr('b', text);
        }

        function mk_span(items) {
            return mk_container("span", items);
        }

        function mk_div(items) {
            return mk_container("div", items);
        }

        function mk_container(container, items) {
            var box = document.createElement(container);
            items.forEach(i => {
                box.appendChild(i);
            });
            return box;
        }

        function cp(obj) {
            return JSON.parse(JSON.stringify(obj));
        }

        function mk_row(tp, item) {
            var row = document.createElement('tr');
            item.forEach(i => {
                var cell = document.createElement(tp);
                cell.append(i);
                row.append(cell);
            });
            return row;
        }

        function getnum_txt(row) {
            var txt = get_ctext(row + 1, number_col, true);
            return txt;
        }

        function getnum(row) {
            var num = getnum_txt(row);
            var numval = Number(num.replace(/[*,]/g, ''));
            return numval;
        }

        function ismult(row) {
            var num = getnum_txt(row);
            return num.includes('*');
        }

        function mk_numglyph(row, cond, h, w, p) {
            if (cond) {
                return mk_overlay(false, row & 8, row & 4, row & 2, row & 1, number_col & 4, number_col & 2, number_col & 1, true, h, w, p);
            }
            return null;
        }

        function convertnum(val, ret) {
            if (val == 0) {
                return ret;
            }

            for (var c = number_digits; c > 0; --c) {
                var n = getnum(c);
                var x = n;
                var p = 0;
                var skip = false;
                if (ismult(c)) {
                    p = Math.floor(val / n);
                    x = n * p;
                    if (p == 0) {
                        skip = true;
                    }
                } else if (n > val) {
                    skip = true;
                }
                if (skip) {
                    continue;
                }
                var rec = [p, c];
                ret.push(rec);
                val -= x;
            }

            return ret;
        }

        function calc() {
            const val_raw = input.value;
            const val_strip = val_raw.replace(/[,*]/g, ''); // remove all ,
            const val = Number(val_strip); // convert to number

            do_calc(val, calc_glyph, calc_math, calc_lit);
        }
        function do_calc(val, glyph = null, math = null, lit = null, h = IMG_H, w = IMG_W, p = PAD_SZ) {
            if (glyph != null) {
                glyph.innerHTML = '';
            }

            if (math != null) {
                math.innerHTML = '';
            }

            if (lit != null) {
                lit.innerHTML = '';
            }

            if (isNaN(val)) {
                lit.innerText = 'Please Enter a Valid Number';
                return '';
            }

            var lsep = '';
            var mtext = '[' + val.toString(6) + '] ';
            var ltext = '';
            var alt = '';
            var msep = '';
            var msep_after = msep_after_pos;
            var seq = null;

            if (val <= 0) {
                seq = cp(zero_seq); // copy so zero_seq doesn't get modified
                if (val <= n_inf_val) {
                    seq = n_inf_seq;
                    alt = 'Too Low';
                } else if (val == 0) {
                    alt = 'Zero';
                } else {
                    seq = convertnum(-1 * val, seq); // val is negative, copy seq so it
                    msep = '-';
                    msep_after = msep_after_neg;
                }
            } else if (val >= inf_val) {
                seq = inf_seq;
                alt = 'Too High';
            } else {
                seq = convertnum(val, []);
            }

            for (var x = 0; x < seq.length; x++) {
                var rec = seq[x];

                var prowA = 0;
                var prowB = rec[0];

                var pvalA = 0;
                var pvalB = 0;

                var nrow = rec[1];
                var nval = getnum(nrow);

                if (prowB > 0) { // using a multiplier
                    if (prowB > 6) { // it's on the second hand
                        prowA = 5 + Math.floor(prowB / 6);
                        pvalA = getnum(prowA);
                        prowB -= pvalA;
                    }
                    pvalB = getnum(prowB);
                }

                args = [glyph != null, h, w, p];

                var nlit = num_sound(nrow);
                var nobj = mk_numglyph(nrow, ...args);
                if (msep == '-') { // negative
                    mtext += msep;
                    msep = '';
                } else {
                    mtext += msep + nval;
                    msep = msep_after;
                }

                ltext += lsep + nlit;
                lsep = lsep_after;

                if (glyph != null) {
                    glyph.appendChild(nobj);
                }
                if (pvalA > 0) {
                    var plitA = num_sound(prowA);
                    var pobjA = mk_numglyph(prowA, ...args);
                    if (pvalB > 0) {
                        var plitB = num_sound(prowB);
                        var pobjB = mk_numglyph(prowB, ...args);
                        mtext += ' * (' + pvalA + msep_after_pos + pvalB + ')';
                        ltext += lsep_after + plitA + lsep_after + plitB;

                        if (glyph != null) {
                            glyph.appendChild(pobjA);
                            glyph.appendChild(pobjB);
                        }
                    } else {
                        mtext += ' * ' + pvalA;
                        ltext += lsep_after + plitA;
                        if (glyph != null) {
                            glyph.appendChild(pobjA);
                        }
                    }
                } else if (pvalB > 0) {
                    var plitB = num_sound(prowB);
                    var pobjB = mk_numglyph(prowB, ...args);
                    mtext += ' * ' + pvalB;
                    ltext += lsep_after + plitB;
                    if (glyph != null) {
                        glyph.appendChild(pobjB);
                    }
                }
            }
            if (math != null) {
                if (alt == '') {
                    math.innerText = mtext;
                } else {
                    math.innerText = alt;
                }
            }
            if (lit != null) {
                lit.innerText = ltext;
            }

            return ltext;
        }
        function fake_tabs(tab_name, tab_class, tab_button) {
            tabcontent = document.getElementsByClassName(tab_class);
            for (var i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tabbuttons = document.getElementsByClassName(tab_button);

            for (var j = 0; j < tabcontent.length; j++) {
                tabbuttons[j].style.backgroundColor = "buttonface";
            }
            tab = document.getElementById(tab_name);
            tab.style.display = "block";
        }

        function show_tab(btn, name) {
            fake_tabs(name, "display_tab", "tab_button");
            btn.style.backgroundColor = '#e8e8ff';
        }

    </script>
    <div>
        <div id="buttons">
            <button class="tab_button" onclick="show_tab(this, 'glyphmap');" style="background-color: #e8e8ff">Glyph Map</button>
            <button class="tab_button" onclick="show_tab(this, 'num');">Numbers</button>
            <button class="tab_button" onclick="show_tab(this, 'pronoun');">Pronouns</button>
        </div>
        <div id="container" style="background-color: #e0e0ff">
            <div id='glyphmap' class="display_tab">
                <table id='ctable'>
                    <thead id='chead'>
                    </thead>
                    <tbody id='cbody'>
                    </tbody>
                </table>
            </div>
            <div id="num" style="display:none" class="display_tab">
                <div id="number_txt"></div>
                <div>
                    <table id="count"><tbody id="count_body"></tbody></table>
                </div>
                <div>
                    <label for="number">Enter a Number:</label>
                    <input type="text" id="number" name="number"><br><br>
                    <button type="button" onclick="calc();">Calculate</button>
                    <div id='math'></div>
                    <div id='glyph' class="glyph"></div>
                    <div id='lit'></div>
                </div>
                <div>
                    <table id="count2"><tbody id="count_body2"></tbody></table>
                </div>
            </div>
            <div id="pronoun" style="display:none" class="display_tab">
                <div>
                    <div id="pron_txt"></div>
                    <table>
                        <thead>
                            <tr>
                                <th></th>
                                <th>None</th>
                                <th>Female</th>
                                <th>Male</th>
                                <th>Neuter</th>
                                <th>Unknown</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span>1st Person - Self: </span></td>
                                <td><input type="radio" id="i0" name="icb" value="i0" /></td>
                                <td>
                                    <input type="radio" id="if" name="icb" value="if" checked>
                                </td>
                                <td>
                                    <input type="radio" id="im" name="icb" value="im" checked>
                                </td>
                                <td>
                                    <input type="radio" id="in" name="icb" value="in" checked>
                                </td>
                                <td>
                                    <input type="radio" id="iq" name="icb" value="iq" checked>
                                </td>
                            </tr>
                            <tr>
                                <td><span>2nd Person - You: </span></td>
                                <td>
                                    <input type="radio" id="u0" name="ucb" value="u0" />
                                </td>
                                <td><input type="radio" id="uf" name="ucb" value="uf" checked>
                                <td>
                                    <input type="radio" id="um" name="ucb" value="um" checked>
                                </td>
                                <td>
                                    <input type="radio" id="un" name="ucb" value="un" checked>
                                </td>
                                <td>
                                    <input type="radio" id="uq" name="ucb" value="uq" checked>
                                </td>
                            </tr>
                            <tr>
                                <td><span>3rd Person - Other</span></td>
                                <td></td>
                                <td>
                                    <input type="checkbox" id="m" name="pronoun-cb" value="m" />
                                    <input type="checkbox" id="m2" name="pronoun-cb" value="m2" />
                                </td>
                                <td>
                                    <input type="checkbox" id="f" name="pronoun-cb" value="f" />
                                    <input type="checkbox" id="f2" name="pronoun-cb" value="f2" />
                                </td>
                                <td>
                                    <input type="checkbox" id="n" name="pronoun-cb" value="n" />
                                    <input type="checkbox" id="n2" name="pronoun-cb" value="n2" />
                                </td>
                                <td>
                                    <input type="checkbox" id="q" name="pronoun-cb" value="q" />
                                    <input type="checkbox" id="q2" name="pronoun-cb" value="q2" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="pro-eng"></div>
                    <div id="pro-glyph" class="glyph"></div>
                    <div id="pro-lit"></div>
                </div>
                <div id="list_all"></div>
            </div>
        </div>
    </div>
</body>
</html>                            